@import url('https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap');

// Css reset
* {
		padding: 0;
		margin: 0;
		box-sizing: border-box;
}

body {
		background-color: black;
		height: 100vh;
		display: grid;
		grid-template: repeat(15, 1fr) / repeat(15, 1fr);
		overflow: hidden;
}

// Utility
.cell {
	width: 100%;
	height: 100%;
	// border: 1px solid lightgrey;
	z-index: 2;
}

@for $i from 0 to 15 {
	.cell:nth-child(15n + #{$i + 1}):hover ~ #greetings {
		--positionX: #{$i};
	}
	.cell:nth-child(n + #{15 * $i + 1}):nth-child(-n + #{15 * ($i + 1)}):hover ~ #greetings {
		--positionY: #{$i};
	}
}

#greetings {
	color: white;
	--positionX: 7;
	--positionY: 7;

	position: absolute;
	top: 0; right: 0; bottom: 0; left: 0;
	display: flex;
	justify-content: center;
	align-items: center;
}



.happy-birthday {
	font-family: 'Fredoka One', cursive;
	position: absolute;
	top: 50%; left: 50%;
	animation: color 3s infinite linear;
	text-shadow: 0 0 10px #000a;
	transition: all 0.5s;
	
	@for $i from 0 to 24 {
		&:nth-child(#{$i + 1}) {
			font-size: #{100 + $i * 10}px;
			animation-delay: #{$i * -0.3}s;
			opacity: #{0.2 + $i * 0.05};
			transform:
				translateX(calc(-50% - (var(--positionX) - 7) * #{(7 - $i) * 10px}))
				translateY(calc(-50% - (var(--positionY) - 7) * #{(7 - $i) * 10px}))
				rotateX(calc(0deg - (var(--positionY) - 7) * 5deg))
				rotateY(calc((var(--positionX) - 7) * 5deg));
		}
	}
		
	&.box-18 {
		width: 400px;
		aspect-ratio: 1;
		display: grid;
		place-content: center;
		color: white;
		text-shadow: 0 1px 0 #000;
		
		--border-angle: 0turn; // For animation.
		--main-bg: conic-gradient(
				from var(--border-angle),
				#213,
				rgba(17, 17, 34, 0.386) 5%,
				rgba(17, 17, 34, 0.233) 60%,
				rgba(34, 17, 51, 0.189) 95%
			);

		border: solid 5px transparent;
		border-radius: 2em;
		--gradient-border: conic-gradient(from var(--border-angle), transparent 25%, #08f, #f03 99%, transparent);

		background: 
			// padding-box clip this background in to the overall element except the border.
			var(--main-bg) padding-box,
			// border-box extends this background to the border space
			var(--gradient-border) border-box;
			// Duplicate main background to fill in behind the gradient border. You can remove this if you want the border to extend "outside" the box background.
			// var(--main-bg) border-box;

		background-position: center center;

		animation: bg-spin 3s linear infinite;

		@keyframes bg-spin {
			to {
				--border-angle: 1turn;
			}
		}

		&:hover {
			animation-play-state: paused;
		}
	}

	@keyframes color {
		@for $c from 0 through 10 {
			#{$c * 10%} { color: hsl(36 * $c, 35%, 35%); }
		}
	}
}

@property --border-angle {
	syntax: "<angle>";
	inherits: true;
	initial-value: 0turn;
}